(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,t){e.exports="data:image/png;base64,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"},215:function(e,t,a){e.exports=a(267)},220:function(e,t,a){},267:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o=a.n(l),i=(a(220),a(9)),c=a(8),s=a(12),u=a(11),m=a(13),p=a(358),d=a(354),h=a(6),f=a(347),g=a(348),b=a(179),E=a.n(b),v=a(180),y=a.n(v),w=a(17),O=a.n(w),j=a(29),k=a(10),C=a(328),A=a(329),S=a(337),x=a(332),N=a(330),D=a(331),B=a(184),I=Object(B.a)(),P=a(45),L=a(322),T=a(323),V=a(321),F=a(324),z=a(269),R=a(325),W=a(160),Q=a.n(W),U=a(163),q=a.n(U),K=a(326),H=a(313),M=a(320),Y=a(318),J=a(319),X=a(317),G=a(268),Z=a(157),_=r.a.forwardRef(function(e,t){return r.a.createElement(G.a,Object.assign({direction:"up",ref:t},e))});function $(e){var t=e.onClose,a=e.open;return r.a.createElement("div",null,r.a.createElement(H.a,{style:{textAlign:"center"},open:a,TransitionComponent:_,keepMounted:!0,onClose:e.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(X.a,{id:"alert-dialog-slide-title"},"GET AAPICO SMART DIRECTORY?"),r.a.createElement(Y.a,null,r.a.createElement(J.a,{id:"alert-dialog-slide-description"},r.a.createElement(Z.QRCode,{bgColor:"#FFFFFF",fgColor:"#000000",level:"Q",style:{width:256},value:"http://powermap.in.th"}))),r.a.createElement(M.a,null,r.a.createElement(V.a,{onClick:function(){t()},color:"primary"},"OK"))))}var ee=Object(L.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},rightSwitch:{marginLeft:"auto",color:"#FFFFFF"}}});function te(e){var t,a,n=ee(),l=r.a.useState(!1),o=Object(k.a)(l,2),i=o[0],c=o[1],s=r.a.useState({mapView:!1}),u=Object(k.a)(s,2),m=u[0],p=u[1];window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),t=e,console.log("beforeinstallprompt fired"),void 0===a&&(a=document.getElementById("setup_button")),a.style.display="inline",a.disabled=!1});return window.addEventListener("appinstalled",function(e){console.log("appinstalled fired",e)}),r.a.createElement("div",{className:n.root},r.a.createElement(T.a,{position:"fixed"},r.a.createElement(F.a,null,e.back?r.a.createElement(z.a,{onClick:function(){I.push("/checkin")},edge:"start",className:n.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(Q.a,null)):null,r.a.createElement("img",{src:"/aapico-checkin/images/Logo4.png",height:"42"}),r.a.createElement(V.a,{id:"setup_button",onClick:function(){return t.prompt(),a.disabled=!0,void t.userChoice.then(function(e){"accepted"===e.outcome?(console.log("PWA setup accepted"),a.style.display="none"):console.log("PWA setup rejected"),t=null})}},"Installer"),e.company?r.a.createElement("div",{className:n.rightSwitch},r.a.createElement(R.a,{control:r.a.createElement(K.a,{checked:m,onChange:function(t){p(t.target.checked),e.onSelectMap(m)},name:"mapView"}),label:m?"List":"Map"})):null,e.history?r.a.createElement(V.a,{onClick:function(){return e.drawerOpen()},className:n.rightSwitch,startIcon:r.a.createElement(q.a,null)},r.a.createElement("p",null,localStorage.getItem("user")?"ID: "+JSON.parse(localStorage.getItem("user")).empID:null)):null)),r.a.createElement($,{open:i,onClose:function(e){c(!1)}}))}var ae=a(327),ne=a(164),re=function(){var e,t=Object(n.useState)({accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,latitude:null,longitude:null,speed:null,timestamp:Date.now()}),a=Object(k.a)(t,2),r=a[0],l=a[1],o=!0,i=function(e){o&&l({accuracy:e.coords.accuracy,altitude:e.coords.altitude,altitudeAccuracy:e.coords.altitudeAccuracy,heading:e.coords.heading,latitude:e.coords.latitude,longitude:e.coords.longitude,speed:e.coords.speed,timestamp:e.timestamp})};return Object(n.useEffect)(function(){return navigator.geolocation.getCurrentPosition(i),e=navigator.geolocation.watchPosition(i),function(){o=!1,navigator.geolocation.clearWatch(e)}},[0]),r},le=a(277),oe=a(335),ie=a(336),ce=a(270),se=a(276),ue="https://backend.powermap.live",me="".concat(ue,"/company-departments?_limit=-1"),pe=a(165),de=function(e){return r.a.createElement("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(pe.FadeLoader,{color:"#36d7b7",loading:e.isFetching}))},he=a(132),fe=a(167),ge=a.n(fe);var be=function(e){var t=r.a.useRef(null),a=r.a.useCallback(function(){var a=t.current.getScreenshot();console.log(a),e.imageCallback(a)},[t]);return r.a.createElement(ae.a,{container:!0,justify:"center",direction:"column"},r.a.createElement(ge.a,{audio:!1,ref:t}),r.a.createElement(V.a,{variant:"contained",color:"primary",onClick:a},"Capture Photo"))},Ee=["healthy","Sick (fever or cough or cold)","Sick Covid-19","Others"];var ve=Object(h.a)(function(e){return{root:{width:300},media:{height:300},appBarSpacer:e.mixins.toolbar,btnWrapper:{position:"relative",overflow:"hidden",display:"inline-block",margin:"auto"},btn:{border:"2px solid gray",color:"gray",backgroundColor:"white",padding:"8px 20px",borderRadius:"8px",fontSize:"20px",fontWeight:"bold"},file:{fontSize:"100px",position:"absolute",left:"0",top:"0",opacity:"0"}}})(function(e){var t=e.classes,a=re(),l=JSON.parse(localStorage.getItem("user")),o=Object(n.useState)(""),i=Object(k.a)(o,2),c=i[0],s=i[1],u=r.a.useState(!1),m=Object(k.a)(u,2),p=m[0],d=m[1],h=r.a.useState(null),f=Object(k.a)(h,2),g=f[0],b=f[1],E=r.a.useState(null),v=Object(k.a)(E,2),y=v[0],w=v[1],B=r.a.useState(!1),L=Object(k.a)(B,2),T=L[0],F=L[1],z=r.a.useRef(null),R=r.a.useState("healthy"),W=Object(k.a)(R,2),Q=W[0],U=W[1],q=r.a.useState(null),K=Object(k.a)(q,2),G=K[0],Z=K[1],_=r.a.useState(!1),$=Object(k.a)(_,2),ee=$[0],me=$[1];function pe(e){for(var t=atob(e.split(",")[1]),a=new ArrayBuffer(t.length),n=new Uint8Array(a),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new Blob([a],{type:"image/jpeg"})}function fe(e,t,a,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){var r=e.target.result,l=new Image;l.src=r,l.onload=function(){var e=function(e,t,a,n){var r=document.createElement("canvas"),l=e.width,o=e.height;return l>o?l>t&&(o=Math.round(o*t/l),l=t):o>a&&(l=Math.round(l*a/o),o=a),r.width=l,r.height=o,r.getContext("2d").drawImage(e,0,0,l,o),r.toDataURL("image/jpeg",n)}(l,t,a,.7);n(e)}}}function ge(){return(ge=Object(j.a)(O.a.mark(function e(){var t,n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(F(!0),t=new FormData,!(y&&a.latitude&&c)){e.next=19;break}return t.append("files.avatar",y),t.append("data",JSON.stringify({empID:l.empID,lastName:l.lastName,firstName:l.firstName,tel:l.tel,email:l.email,gender:l.gender,latitude:a.latitude,longitude:a.longitude,address:c,department:l.department,company:l.company,healthStatus:"Others"!==Q?Q:"Others:"+G,device:Object(he.deviceDetect)()})),e.next=7,fetch("".concat(ue,"/staff-locations"),{method:"POST",body:t});case 7:return n=e.sent,e.next=10,n.json();case 10:if(r=e.sent,F(!1),!r.statusCode||200===r.statusCode){e.next=16;break}return e.abrupt("return",b(r.error));case 16:return e.abrupt("return",d(!0));case 17:e.next=20;break;case 19:y?(alert("Location not found."),F(!1)):(alert("Picture not found."),F(!1));case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){function e(){return(e=Object(j.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://search.map.powermap.in.th/api/v2/map/reverse_geocode?lat=".concat(a.latitude,"&lng=").concat(a.longitude,"&sort=d&&access_token=b378c575291af30a29f59919fd7e7e4c012d45c4")).then(function(e){return e.json()});case 3:t=e.sent,console.log(t),s("".concat(t.data[0].tambon_e,", ").concat(t.data[0].amphoe_e,", ").concat(t.data[0].province_e,",  ").concat(t.data[0].postcode)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}a.latitude&&a.longitude&&!c&&function(){e.apply(this,arguments)}()}),T?r.a.createElement(de,null):ee?r.a.createElement(be,{imageCallback:function(e){me(!1);var t=pe(e),a=new File([t],"selfie.jpg",{type:"image/jpeg"});fe(a,1200,1200,function(){var e=Object(j.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=pe(t),n=new File([a],"selfie.jpg",{type:"image/jpeg"}),w(n);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),w(a),console.log(e)}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{back:!0,title:"Submit Checkin Data"}),r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement("br",null),r.a.createElement(ae.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(C.a,{className:t.root},r.a.createElement(A.a,null,r.a.createElement("div",{onClick:function(){return he.isMobile?z.current.click():me(!0)}},r.a.createElement(N.a,{component:"img",className:t.media,image:y?URL.createObjectURL(y):"/aapico-checkin/images/placeholder.png",title:"Profile"})),r.a.createElement("input",{type:"file",ref:z,className:t.file,accept:"image/*",style:{visibility:"hidden"},onChange:function(e){var t;t=e,console.log(t.target.files[0]),ne(t.target.files[0],function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0);var a=pe(t.toDataURL()),n=new File([a],"selfie.jpg",{type:"image/jpeg"});fe(n,1200,1200,function(){var e=Object(j.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=pe(t),n=new File([a],"selfie.jpg",{type:"image/jpeg"}),w(n);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),w(n)},{orientation:!0})},capture:"user"}),r.a.createElement(D.a,null),r.a.createElement(x.a,null,r.a.createElement(P.a,{gutterBottom:!0,variant:"h5",component:"h2"},r.a.createElement("strong",null,l.firstName+" "+l.lastName)),r.a.createElement(ce.a,{variant:"outlined",className:t.formControl,fullWidth:!0,size:"small"},r.a.createElement(le.a,{id:"demo-simple-select-outlined-label"},"Health Status"),r.a.createElement(se.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:Q,onChange:function(e){U(e.target.value)},label:"Health Status"},Ee.map(function(e,t){return r.a.createElement(oe.a,{value:e,key:t},e)}))),r.a.createElement("br",null),"Others"===Q?r.a.createElement(ce.a,{variant:"outlined",className:t.formControl,fullWidth:!0,size:"small"},r.a.createElement(ie.a,{InputLabelProps:{shrink:!0},required:!0,defaultValue:G,fullWidth:!0,size:"small",onChange:function(e){console.log(e.target.value),Z(e.target.value)}})):null,r.a.createElement(P.a,{variant:"body2",color:"textSecondary",component:"p"},"Address: ",r.a.createElement("strong",null,c),r.a.createElement("br",null),"ID: ",l.empID," | Tel: ",l.tel,r.a.createElement("br",null),"Email: ",l.email,r.a.createElement("br",null)))),r.a.createElement(S.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(V.a,{size:"small",color:"primary",onClick:function(){return I.push("/checkin")}},"Go Back"),r.a.createElement(V.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return function(){return ge.apply(this,arguments)}()}},"Submit"))),r.a.createElement(H.a,{open:p,onClose:function(){d(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(X.a,{id:"alert-dialog-title"},"Check in information"),r.a.createElement(Y.a,null,r.a.createElement(J.a,{id:"alert-dialog-description"},g?"Problems in submission":"Successfully!!!")),r.a.createElement(M.a,null,r.a.createElement(V.a,{onClick:function(){return d(!1),g?null:I.push("./checkin")},color:"primary",autoFocus:!0},"OK")))))}),ye=a(36),we=a(103),Oe=a(357),je=a(341),ke=a(359),Ce=a(30),Ae=a(114),Se={initial:{opacity:0,x:"-100vw",scale:1},in:{opacity:1,x:0,scale:1},out:{opacity:0,x:"100vw",scale:1}},xe={type:"tween",ease:"anticipate",duration:1},Ne={};function De(e){return r.a.createElement(Ae.b.div,{style:Ne,className:"row",initial:"initial",animate:"in",exit:"out",variants:Se,transition:xe},e.children)}var Be=a(350),Ie=a(353),Pe=a(3),Le=a(4),Te=a(352),Ve=a(334),Fe=a(273),ze=a(340),Re=a(339),We=a(338),Qe=a(106),Ue=a.n(Qe),qe=a(105),Ke=a.n(qe),He=Object(L.a)({list:{width:250},fullList:{width:"auto"}}),Me="right";function Ye(e){var t=He(),a=r.a.useState({top:!1,left:!1,bottom:!1,right:!0}),l=Object(k.a)(a,2),o=l[0],i=l[1],c=Object(n.useState)(!1),s=Object(k.a)(c,2),u=s[0],m=s[1],p=localStorage.getItem("user"),d=Object(n.useState)(null),h=Object(k.a)(d,2),f=h[0],g=h[1],b=Ke()().startOf("month").format();Object(n.useEffect)(function(){p?(m(!0),fetch("".concat(ue,"/staff-locations?empID=").concat(JSON.parse(p).empID,"&createdAt_gte=").concat(b,"&_sort=createdAt:DESC")).then(function(e){return e.json()}).then(function(e){console.log(e),g(e),m(!1)}).catch(function(e){return console.log(e)})):alert("No user profile found")},[]);var E,v=function(t,a){return function(n){(!n||"keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&(i(Object(ye.a)({},o,Object(Pe.a)({},t,a))),a||e.drawerClose())}};return u?r.a.createElement(de,null):r.a.createElement("div",null,r.a.createElement(r.a.Fragment,{key:Me},r.a.createElement(Te.a,{anchor:Me,open:o[Me],onClose:v(Me,!1),onOpen:v(Me,!0)},(E="right",r.a.createElement("div",{className:Object(Le.a)(t.list,Object(Pe.a)({},t.fullList,"top"===E||"bottom"===E)),role:"presentation",onClick:v(E,!1),onKeyDown:v(E,!1)},r.a.createElement(Ve.a,null,f?f.map(function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{button:!0,key:t,onClick:function(){return e.callBack(t)}},r.a.createElement(We.a,null,r.a.createElement(Oe.a,{alt:t.firstName,src:ue+t.avatar.url})),r.a.createElement(Re.a,{primary:new Date(t.createdAt).toLocaleDateString()+"-"+new Date(t.createdAt).toLocaleTimeString(),secondary:t.address})),r.a.createElement(D.a,{variant:"inset",component:"li"}))}):r.a.createElement(Fe.a,{button:!0,key:"error"},r.a.createElement(ze.a,null,r.a.createElement(Ue.a,null)),r.a.createElement(Re.a,{primary:"no record found"}))))))))}var Je=a(128),Xe=a.n(Je),Ge=Object(L.a)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}});function Ze(){var e=Ge(),t=Object(n.useState)(!1),a=Object(k.a)(t,2),l=a[0],o=a[1],i=localStorage.getItem("user"),c=Object(n.useState)(null),s=Object(k.a)(c,2),u=s[0],m=s[1],p=Ke()().startOf("day").format();return Object(n.useEffect)(function(){o(!0),fetch("".concat(ue,"/staff-locations?empID=").concat(i?JSON.parse(i).empID:"","&createdAt_gte=").concat(p)).then(function(e){return e.json()}).then(function(e){m(e),o(!1)}).catch(function(e){return console.log(e)})},[]),l?r.a.createElement(de,null):r.a.createElement(Ve.a,{component:"nav",className:e.root,"aria-label":"contacts"},u?u.map(function(e,t){return r.a.createElement(Fe.a,{key:e},r.a.createElement(ze.a,null,r.a.createElement(Xe.a,null)),r.a.createElement(Re.a,{primary:new Date(e.createdAt).toLocaleDateString(),secondary:new Date(e.createdAt).toLocaleTimeString()}))}):r.a.createElement(Fe.a,{button:!0,key:"error"},r.a.createElement(ze.a,null,r.a.createElement(Ue.a,null)),r.a.createElement(Re.a,{primary:"no record found"})))}var _e=Object(L.a)(function(e){return{root:{flexGrow:1,color:"black",maxWidth:320}}});function $e(e){var t=_e(),a=e.info.avatar.formats?e.info.avatar.formats.thumbnail.url:e.info.avatar.url;return r.a.createElement(ae.a,{container:!0,alignItems:"flex-start",className:t.root,spacing:2},r.a.createElement(ae.a,{item:!0,xs:2,style:{margin:"auto"}},r.a.createElement(Oe.a,{src:ue+a,alt:e.info.firstName})),r.a.createElement(ae.a,{item:!0,xs:10},r.a.createElement(P.a,{component:"subtitle",variant:"subtitle"},e.info.address),r.a.createElement("br",null),r.a.createElement("small",null,new Date(e.info.createdAt).toLocaleString())))}var et={fill:"#d00",stroke:"none",transform:"translate(0px,".concat(20,"px)")},tt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.size,t=void 0===e?20:e;return n.createElement("svg",{height:t,viewBox:"0 0 24 24",style:et},n.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"}))}}]),t}(n.PureComponent),at={position:"absolute",top:115,left:0,margin:10},nt={position:"absolute",top:50,left:0,padding:"10px"},rt={position:"absolute",top:65,right:50,padding:"10px"},lt={position:"absolute",top:130,right:0,padding:"0px",boxShadow:"0 19px 38px rgba(0,0,0,0.30)"},ot=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e)))._handleChange=function(e,t){a.setState({language:t})},a._onViewportChange=function(e){e.width,e.height;var t=Object(we.a)(e,["width","height"]);a.setState({viewport:t})},a._updateViewport=function(e){e.zoom=14,a.setState({viewport:e})},a.openDrawer=function(){a.setState({openDrawer:!a.state.openDrawer})},a.drawerClick=function(e){console.log(e.latitude),a.setState({popupInfo:e}),a.setState({location:[parseFloat(e.latitude),parseFloat(e.longitude)],viewport:Object(ye.a)({},a.state.viewport,{latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude),zoom:12,transitionInterpolator:new Ce.a({speed:2}),transitionDuration:"auto"})})},a.state={language:"en",location:null,viewport:{latitude:14,longitude:100,zoom:6,bearing:0,pitch:0,alert:!1,drawerOpen:!1}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_renderPopup",value:function(){var e=this,t=this.state.popupInfo;return console.log(t),t&&r.a.createElement(Ce.e,{tipSize:5,anchor:"bottom",latitude:parseFloat(t.latitude),longitude:parseFloat(t.longitude),closeOnClick:!1,closeButton:!0,onClose:function(){return e.setState({popupInfo:null,location:null})}},r.a.createElement($e,{info:t}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.viewport,n=t.openDrawer,l=this.props.classes,o=localStorage.getItem("user");return r.a.createElement(De,null,n?r.a.createElement(Ye,{drawerClose:function(){return e.openDrawer()},callBack:function(t){return e.drawerClick(t)}}):null,r.a.createElement(te,{info:!0,history:!0,drawerOpen:function(){return e.openDrawer()},title:"CHECK IN"}),r.a.createElement("div",{className:l.appBarSpacer}),r.a.createElement("div",null,r.a.createElement(Ce.g,Object.assign({attributionControl:!0,mapOptions:{customAttribution:"Powered by POWERMAP </a>"}},a,{width:"100%",height:"calc(100vh - 110px)",mapStyle:"en"===this.state.language?"https://search.map.powermap.in.th/api/v2/map/vtile/styles?name=thailand_en&access_token=b378c575291af30a29f59919fd7e7e4c012d45c4":"https://search.map.powermap.in.th/api/v2/map/vtile/styles?name=thailand_th&access_token=b378c575291af30a29f59919fd7e7e4c012d45c4",onViewportChange:this._onViewportChange,dragToRotate:!1}),r.a.createElement(Ce.b,{style:at,positionOptions:{enableHighAccuracy:!1},trackUserLocation:!0,onViewportChange:this._updateViewport}),r.a.createElement("div",{style:nt},r.a.createElement(Ce.d,{showCompass:!1})),this.state.location?r.a.createElement(Ce.c,{longitude:this.state.location[1],latitude:this.state.location[0],offsetTop:-20,offsetLeft:-10},r.a.createElement(tt,{size:20})):null,this._renderPopup()),r.a.createElement("div",{style:rt},r.a.createElement(ae.a,{container:!0,className:"language-control-panel",spacing:2,direction:"column"},r.a.createElement(ae.a,{item:!0},r.a.createElement(ke.a,{size:"small",value:this.state.language,exclusive:!0,onChange:this._handleChange,variant:"contained"},r.a.createElement(je.a,{key:1,value:"en",active:!0},"EN"),",",r.a.createElement(je.a,{key:2,value:"th"},"TH"))))),r.a.createElement(Ie.a,{open:this.state.alert,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:6e3,onClose:function(){return e.setState({alert:!1})}},r.a.createElement(Be.a,{onClose:function(){return e.setState({alert:!1})},severity:"error"},"Please make sure you have created your profile \u2014 ",r.a.createElement("strong",null,"Profile not found!"))),r.a.createElement(ae.a,{container:!0,justify:"center",className:l.checkinButton},r.a.createElement(z.a,{onClick:function(){o?I.push({pathname:"./CardView"}):e.setState({alert:!0})}},r.a.createElement(Oe.a,{rounded:!0,circle:!0,alt:"Checkin",src:"/aapico-checkin/images/Button.png",className:l.large}))),r.a.createElement("div",{style:lt},r.a.createElement(Ze,null))))}}]),t}(r.a.Component),it=Object(h.a)(function(e){return{appBarSpacer:e.mixins.toolbar,checkinButton:{position:"absolute",bottom:60},content:{display:"flex",flexDirection:"column"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1),padding:10,textAlign:"center"},margin:{margin:e.spacing(2)},large:{width:"80px",height:"80px",boxShadow:"0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22)"}}})(ot),ct=a(185),st=a(104),ut=a(342),mt=a(109),pt=a.n(mt),dt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={index:0},a.Row=function(e){var t=e.index,n=e.style;return r.a.createElement("div",{style:n},r.a.createElement(Fe.a,{button:!0,onClick:Object(j.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:I.push({pathname:"./employeeDetails",state:{data:a.props.filterData[t],index:a.state.index,filterCompany:a.props.filterCompany}});case 1:case"end":return e.stop()}},e)}))},r.a.createElement(We.a,null,r.a.createElement(Oe.a,{alt:a.props.filterData[t].name,src:a.props.filterData[t].img})),r.a.createElement(Re.a,{primary:a.props.filterData[t].name,secondary:a.props.filterData[t].position})),r.a.createElement(ut.a,null,r.a.createElement(z.a,{edge:"end","aria-label":"delete"},r.a.createElement(pt.a,null))),r.a.createElement(D.a,null),t===a.props.filterData.length-1?r.a.createElement("div",{className:a.props.classes.appBarSpacer}):null)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,null,function(t){var a=t.height,n=t.width;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ct.a,{height:a,width:n,itemSize:72,itemCount:e.props.filterData.length,initialScrollOffset:e.props.index||0,onScroll:function(t){e.setState({index:t.scrollOffset})}},e.Row))}))}}]),t}(n.Component),ht=Object(h.a)(function(e){return{appBarSpacer:e.mixins.toolbar}})(dt),ft=a(15),gt=a(129),bt=a.n(gt),Et=a(130),vt=a.n(Et),yt=a(78),wt=a.n(yt),Ot=a(116),jt=Object(L.a)({avatar:{backgroundColor:Ot.a[100],color:Ot.a[600]}});function kt(e){var t=jt(),a=e.onClose,n=e.selectedValue,l=e.open;return r.a.createElement(H.a,{onClose:function(){a(n)},"aria-labelledby":"simple-dialog-title",open:l},r.a.createElement(X.a,{id:"simple-dialog-title"},"Filter by Company"),r.a.createElement(Ve.a,null,e.companies.map(function(e){return r.a.createElement(Fe.a,{button:!0,onClick:function(){a(e)},key:e},r.a.createElement(We.a,null,r.a.createElement(Oe.a,{className:t.avatar},r.a.createElement(wt.a,null))),r.a.createElement(Re.a,{primary:e}))})))}var Ct=a(349),At=Object(L.a)(function(e){return{search:Object(Pe.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ft.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ft.c)(e.palette.common.white,.25)},marginLeft:0,width:"100% !important"},e.breakpoints.up("xs"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"inherit"},inputInput:{transition:e.transitions.create("width"),width:"inherit",borderBottom:"none"}}});function St(e){var t=At();return r.a.createElement("div",{className:t.search},r.a.createElement(Ct.a,{className:t.inputRoot,id:"free-solo-demo",options:e.data.map(function(e){return e.name}),renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{className:t.inputInput,fullWidth:!0}))},onChange:function(t,a){e.callBack(a)}}))}var xt=Object(L.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(Pe.a)({flexGrow:1,display:"none"},e.breakpoints.up("xs"),{display:"block"}),search:Object(Pe.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ft.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ft.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("xs"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Pe.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}});function Nt(e){var t=r.a.useState(!1),a=Object(k.a)(t,2),n=a[0],l=a[1],o=r.a.useState(!1),i=Object(k.a)(o,2),c=i[0],s=i[1],u=r.a.useState(e.companies[0]),m=Object(k.a)(u,2),p=m[0],d=m[1],h=xt();return r.a.createElement("div",{className:h.root},r.a.createElement(T.a,{position:"fixed"},r.a.createElement(F.a,null,r.a.createElement(z.a,{edge:"start",className:h.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)}},r.a.createElement(bt.a,null)),r.a.createElement(P.a,{className:h.title,variant:"h6",noWrap:!0},e.title),r.a.createElement(St,{data:e.data,callBack:function(t){e.callBack(t)},filterName:e.filterName}),r.a.createElement(z.a,{"aria-label":"display more actions",edge:"end",color:"inherit",onClick:function(){l(!0)}},r.a.createElement(vt.a,null)))),r.a.createElement(kt,{selectedValue:p,open:n,onClose:function(t){l(!1),d(t),e.getFilter(t)},companies:e.companies}),r.a.createElement($,{open:c,onClose:function(){s(!1)}}))}var Dt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getFilter=function(e){a.setState({filterCompany:e},function(){"All"!==e?a.setState({filterData:a.state.data.filter(function(t){return t.company===e})}):a.setState({filterData:a.state.data})})},a.callBack=function(e){e?a.setState({filterName:e},function(){return a.setState({filterData:a.state.data.filter(function(t){return t.name===e})})}):"All"!==a.state.filterCompany?a.setState({filterData:a.state.data.filter(function(e){return e.company===a.state.filterCompany})}):a.setState({filterData:a.state.data})},a.state={data:e.data,filterData:e.filterData,filterCompany:I.location.state?I.location.state.filterCompany:null,filterName:null,companies:e.companies,width:null,height:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight-56}),this.state.filterCompany&&this.getFilter(this.state.filterCompany)}},{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data,filterData:e.filterData,companies:e.companies})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.filterData,n=t.companies,l=t.componentName,o=t.filterCompany,i=t.width,c=t.height,s=t.filterName;return a?r.a.createElement(De,null,r.a.createElement("div",null,r.a.createElement(Nt,{companies:n,getFilter:this.getFilter,hasDot:"employees"===l,data:a,callBack:this.callBack,filterName:s}),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement("div",{style:{width:i,overflowY:"scroll",height:c}},r.a.createElement(ht,{filterData:a,className:e.listContainer,filterCompany:o,index:I.location.state?I.location.state.index:null})),r.a.createElement("div",{className:e.appBarSpacer}))):r.a.createElement(de,null)}}]),t}(n.Component),Bt=Object(h.a)(function(e){return{appBarSpacer:e.mixins.toolbar,listContainer:{height:"100%"}}})(Dt),It=a(44),Pt=Object(L.a)({list:{width:250}});function Lt(e){var t,a=Pt(),n=r.a.useState({top:!1,left:!1,bottom:!1,right:!1}),l=Object(k.a)(n,2),o=l[0],i=l[1],c=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&i(Object(ye.a)({},o,Object(Pe.a)({},e,t)))}};return r.a.createElement("div",null,r.a.createElement(z.a,{color:"primary","aria-label":"add to shopping cart",style:{position:"absolute",top:"50px",right:"5px",backgroundColor:"white"},onClick:c("right",!0),variant:"contained"},r.a.createElement(wt.a,null)),r.a.createElement(It.a,{anchor:"right",open:o.right,onClose:c("right",!1)},(t="right",r.a.createElement("div",{className:a.list,role:"presentation",onClick:c(t,!1),onKeyDown:c(t,!1)},e.children))))}var Tt,Vt=function(e){var t=e.children;return r.a.createElement("div",{className:"control-panel"},t)},Ft=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e)))._renderButton=function(e,t){return r.a.createElement("div",{key:e.name},r.a.createElement(Fe.a,{button:!0,key:e.name,onClick:function(){return a.props.onViewportChange(e)}},r.a.createElement(ze.a,null,r.a.createElement(Oe.a,{alt:e.name,src:e.img})),r.a.createElement(Re.a,{primary:e.name})),r.a.createElement(D.a,null))},a.state={data:e.data},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.containerComponent||Vt,t=this.state.data;return r.a.createElement(e,null,r.a.createElement(Lt,null,r.a.createElement(Ve.a,null,t.map(this._renderButton))))}}]),t}(n.PureComponent),zt=a(156),Rt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.data.map(function(e,t){return r.a.createElement(Ce.c,{key:"marker-".concat(t),longitude:parseFloat(e.lat_lng.split(",")[1]),latitude:parseFloat(e.lat_lng.split(",")[0])},r.a.createElement("img",{height:30,viewBox:"0 0 24 24",style:{cursor:"pointer",fill:"#d00",stroke:"none",transform:"translate(".concat(-15,"px,").concat(-30,"px)")},alt:"aapico icon",src:zt}))})}}]),t}(n.PureComponent),Wt=a(171),Qt=a.n(Wt),Ut=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){I.push({pathname:"./companyDetails",state:a.props.info})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.info,t="".concat(e.name);return r.a.createElement("div",{style:{textAlign:"-webkit-center",width:"200px"}},r.a.createElement("br",null),r.a.createElement("img",{width:160,src:e.img,alt:e.name}),r.a.createElement(P.a,null,r.a.createElement("b",null,t),r.a.createElement(z.a,{onClick:this.handleClick,color:"primary","aria-label":"View details"},r.a.createElement(Qt.a,null))))}}]),t}(n.PureComponent),qt={position:"absolute",top:115,left:0,margin:10},Kt={position:"absolute",top:50,left:0,padding:"10px"},Ht={position:"absolute",bottom:50,left:0,padding:"10px"},Mt={position:"absolute",top:65,right:50,padding:"10px"},Yt={position:"absolute",top:65,right:0,padding:"10px"},Jt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e)))._handleChange=function(e,t){a.setState({language:t})},a._onViewportChange=function(e){return a.setState({viewport:Object(ye.a)({},a.state.viewport,e)})},a._goToViewport=function(e){a.setState({popupInfo:e}),a.setState({viewport:Object(ye.a)({},a.state.viewport,{latitude:parseFloat(e.lat_lng.split(",")[0]),longitude:parseFloat(e.lat_lng.split(",")[1]),zoom:15,transitionInterpolator:new Ce.a({speed:2}),transitionDuration:"auto"})})},a._updateViewport=function(e){a.setState({viewport:e})},a.state={language:"en",companyName:null,data:e.data,viewport:{latitude:14,longitude:100,zoom:6,bearing:0,pitch:0}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_renderPopup",value:function(){var e=this,t=this.state.popupInfo;return t&&r.a.createElement(Ce.e,{tipSize:5,anchor:"top",longitude:parseFloat(t.lat_lng.split(",")[1]),latitude:parseFloat(t.lat_lng.split(",")[0]),closeOnClick:!1,closeButton:!1,onClose:function(){return e.setState({popupInfo:null})}},r.a.createElement(Ut,{info:t}))}},{key:"render",value:function(){var e=this.state,t=e.viewport,a=e.settings,n=e.data;return r.a.createElement(De,null,r.a.createElement("div",{style:{height:"calc(100%-56x)"}},r.a.createElement(Ce.g,Object.assign({attributionControl:!0,mapOptions:{customAttribution:"Powered by POWERMAP </a>"}},t,a,{width:"100vw",height:"93vh",mapStyle:"en"===this.state.language?"https://search.map.powermap.in.th/api/v2/map/vtile/styles?name=thailand_en&access_token=b378c575291af30a29f59919fd7e7e4c012d45c4":"https://search.map.powermap.in.th/api/v2/map/vtile/styles?name=thailand_th&access_token=b378c575291af30a29f59919fd7e7e4c012d45c4",onViewportChange:this._onViewportChange,dragToRotate:!1}),r.a.createElement(Rt,{data:n}),this._renderPopup(),r.a.createElement(Ce.b,{style:qt,positionOptions:{enableHighAccuracy:!1},trackUserLocation:!0,onViewportChange:this._updateViewport}),r.a.createElement("div",{style:Kt},r.a.createElement(Ce.d,{showCompass:!1})),r.a.createElement("div",{style:Ht},r.a.createElement(Ce.f,null))),r.a.createElement("div",{style:Yt},r.a.createElement(Ft,{data:n,containerComponent:this.props.containerComponent,onViewportChange:this._goToViewport,companyName:this.state.companyName})),r.a.createElement("div",{style:Mt},r.a.createElement(ae.a,{container:!0,className:"language-control-panel",spacing:2,direction:"column"},r.a.createElement(ae.a,{item:!0},r.a.createElement(ke.a,{size:"small",value:this.state.language,exclusive:!0,onChange:this._handleChange,variant:"contained"},r.a.createElement(je.a,{key:1,value:"en",active:!0},"EN"),",",r.a.createElement(je.a,{key:2,value:"th"},"TH")))))))}}]),t}(r.a.Component),Xt=a(110),Gt=a.n(Xt),Zt=a(79),_t=a.n(Zt),$t=Object(L.a)({card:{maxWidth:"100%"},media:{height:180},rightButton:{marginLeft:"auto !important"}});function ea(e){var t=$t();return r.a.createElement(C.a,{className:t.card},r.a.createElement(A.a,{onClick:function(){return I.push({pathname:"./employees",state:{filterCompany:e.name}})}},r.a.createElement(N.a,{className:t.media,image:e.img,title:e.name}),r.a.createElement(x.a,{style:{padding:"10px",color:"black"}},r.a.createElement(P.a,{component:"h6"},e.name),r.a.createElement(P.a,{variant:"body2",color:"textSecondary",component:"p"},e.province))),r.a.createElement(S.a,null,r.a.createElement(V.a,{size:"small",color:"primary"},r.a.createElement("a",{href:"".concat(Tt).concat(e.lat_lng),target:"_blank"},r.a.createElement(Gt.a,null))),r.a.createElement(V.a,{size:"small",color:"primary",className:t.rightButton},r.a.createElement("a",{href:"tel:".concat(e.tel),target:"_blank"},r.a.createElement(_t.a,null)))))}Tt=function(){var e=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)}()?"http://maps.apple.com/?daddr=":"https://www.google.com/maps/search/?api=1&query=";var ta=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(ye.a)({},a.state,Object(Pe.a)({},e.target.name,e.target.checked)))},a.state={data:e.data},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.data,a=this.props.classes;return r.a.createElement(De,null,r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(te,{info:!0,company:!0,onSelectMap:function(t){return e.setState(Object(ye.a)({},e.state,{mapView:t}))}}),r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement("div",{style:{overflowY:"scroll",height:window.innerHeight-112}},this.state.mapView?r.a.createElement(Jt,{data:t}):r.a.createElement(Ve.a,null,t.map(function(e,t){return r.a.createElement("div",{key:t,style:{padding:15}},r.a.createElement(ea,{name:e.name,lat_lng:e.lat_lng,tel:e.tel,img:e.img,key:t,location:e.location,province:e.province}))})))))}}]),t}(n.Component),aa=Object(h.a)(function(e){return{appBarSpacer:e.mixins.toolbar}})(ta),na=a(343),ra=a(173),la=a.n(ra),oa=a(172),ia=a.n(oa),ca=a(115),sa=Object(L.a)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper}}});function ua(e){var t=sa();return r.a.createElement("div",{className:t.root},r.a.createElement(Ve.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(Fe.a,{button:!0,onClick:function(){return I.push({pathname:"./employees",state:{filterCompany:e.company}})}},r.a.createElement(ze.a,null,r.a.createElement(Oe.a,null,r.a.createElement(wt.a,null))),r.a.createElement(Re.a,{primary:e.company}),r.a.createElement(ut.a,null,r.a.createElement(z.a,{edge:"end","aria-label":"delete"},r.a.createElement(pt.a,null))))))}var ma=Object(L.a)(function(e){return{card:{maxWidth:"100%",margin:"15px"},media:{height:140,paddingTop:"56.25%"},appBarSpacer:e.mixins.toolbar,rightButton:{marginLeft:"auto !important"},avatar:{backgroundColor:ca.a[500]}}});function pa(e){var t=ma(),a=I.location.state,n=a.data,l=a.index,o=a.filterCompany;return document.activeElement instanceof HTMLElement&&document.activeElement.blur(),n?r.a.createElement(De,null,r.a.createElement("div",{style:{overflowY:"scroll",height:"100%"}},r.a.createElement(te,{info:!1,back:!0,index:l,filterCompany:o}),r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(C.a,{className:t.card},r.a.createElement(na.a,{avatar:r.a.createElement(Oe.a,{"aria-label":"recipe",className:t.avatar},n.name[0]),title:n.name,subheader:n.position}),r.a.createElement(N.a,{className:t.media,image:n.img,title:n.name}),r.a.createElement(S.a,null,r.a.createElement(P.a,{variant:"body2",color:"textSecondary",component:"p"},"Phone ",r.a.createElement("br",null),n.tel),r.a.createElement("div",{className:t.rightButton},r.a.createElement(z.a,{"aria-label":"make a call"},r.a.createElement("a",{href:"mailto:".concat(n.email)},r.a.createElement(ia.a,null))),r.a.createElement(z.a,{"aria-label":"sent a message",onClick:function(e){return window.open("sms:".concat(n.tel),"_top"),!1}},r.a.createElement(la.a,null)),r.a.createElement(z.a,{"aria-label":"make a call"},r.a.createElement("a",{href:"tel:".concat(n.tel)},r.a.createElement(_t.a,null)))))),r.a.createElement(C.a,{className:t.card},r.a.createElement(ua,{company:n.company})))):null}var da,ha=a(156);da=function(){var e=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)}()?"http://maps.apple.com/?daddr=":"https://www.google.com/maps/search/?api=1&query=";var fa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){return window.open("".concat(da).concat(a.props.latitude,",").concat(a.props.longitude),"_top"),!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.latitude,n=t.longitude;return r.a.createElement(Ce.c,{key:"marker",longitude:n,latitude:a},r.a.createElement("img",{height:30,viewBox:"0 0 24 24",style:{cursor:"pointer",fill:"#d00",stroke:"none",transform:"translate(".concat(-15,"px,").concat(-30,"px)")},onClick:function(){return e.onClick()},alt:"aapico icon",src:ha}))}}]),t}(n.PureComponent),ga=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e)))._updateViewport=function(e){a.setState({viewport:e})},a.state={viewport:{latitude:e.latitude,longitude:e.longitude,zoom:16,bearing:0,pitch:0},popupInfo:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.viewport,a=e.settings;return r.a.createElement(Ce.g,Object.assign({},t,{attributionControl:!0,mapOptions:{customAttribution:"Powered by POWERMAP </a>"}},t,a,{width:"100%",height:"200px",mapStyle:"https://search.map.powermap.in.th/api/v2/map/vtile/styles?name=thailand_en&access_token=b378c575291af30a29f59919fd7e7e4c012d45c4",onViewportChange:this._onViewportChange,dragToRotate:!1}),r.a.createElement(fa,{longitude:this.props.longitude,latitude:this.props.latitude}))}}]),t}(n.Component);var ba,Ea=Object(L.a)(function(e){return{card:{maxWidth:"100%"},media:{height:180},appBarSpacer:e.mixins.toolbar,rightButton:{marginLeft:"auto !important"},overlayImage:{height:180,backgroundImage:"linear-gradient(0deg, rgba(0,0,0,0.8) 0%, rgba(255,255,255,0.5) 75%) !important"},overlay:{position:"relative",top:"120px",left:"10px",color:"white",width:"95%"}}});ba=function(){var e=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)}()?"http://maps.apple.com/?daddr=":"https://www.google.com/maps/search/?api=1&query=";var va=function(e){var t=Ea(),a=I.location.state,n=a.name,l=a.img,o=a.location,i=a.tel,c=a.details,s=a.lat_lng;return r.a.createElement(De,null,r.a.createElement("div",{style:{width:window.innerWidth+"px",overflowY:"scroll",height:window.innerHeight-56}},r.a.createElement(te,{info:!1,back:!0}),r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(C.a,{className:t.card},r.a.createElement(N.a,{className:t.media,image:l,title:n},r.a.createElement("div",{className:t.overlayImage},r.a.createElement("div",{className:t.overlay},r.a.createElement(P.a,{variant:"subtitle1",component:"p"},r.a.createElement("b",null,n))))),r.a.createElement(S.a,null,r.a.createElement(P.a,{variant:"body2",color:"textSecondary",component:"p"},"Phone ",r.a.createElement("br",null),i),r.a.createElement("div",{className:t.rightButton},r.a.createElement(z.a,{"aria-label":"get into location"},r.a.createElement("a",{href:"".concat(ba).concat(s),target:"_blank"},r.a.createElement(Gt.a,null))),r.a.createElement(z.a,{"aria-label":"make a call"},r.a.createElement("a",{href:"tel:".concat(i),target:"_blank"},r.a.createElement(_t.a,null))))),r.a.createElement(x.a,null,r.a.createElement(P.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("b",null,"Address:")," ",r.a.createElement("br",null),o),r.a.createElement("br",null),r.a.createElement(P.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("b",null,"Description:")," ",r.a.createElement("br",null),c)),r.a.createElement(ga,{longitude:parseFloat(s.split(",")[1]),latitude:parseFloat(s.split(",")[0])}))))},ya=a(50),wa=a(118),Oa=a(356),ja=a(351),ka=a(346),Ca=a(131),Aa=a.n(Ca),Sa=a(182),xa=a(345),Na=a(183),Da=a(344),Ba=a(274),Ia=a(177),Pa=a.n(Ia),La=a(55),Ta=La.a().shape({firstName:La.b().required(),lastName:La.b().required(),tel:La.b().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid"),email:La.b().email(),empID:La.b().required(),department:La.b().required(),company:La.b().required()}),Va=Object(Na.a)({overrides:{MuiFormLabel:{asterisk:{color:"#db3131","&$error":{color:"#db3131"}}}}});var Fa=Object(h.a)(function(e){return{button:{background:"black"},margin:{margin:2*e.spacing.unit},container:{padding:2*e.spacing.unit,maxWidth:400,marginTop:50,margin:"auto"}}})(function(e){var t=localStorage.getItem("user"),a=Object(ya.b)({validationSchema:Ta,defaultValues:t?JSON.parse(t):{firstName:"",lastName:"",tel:"",email:"",gender:"male",empID:"",department:"",company:"AITS"}}),l=a.handleSubmit,o=a.errors,i=a.control,c=a.setValue,s=e.classes,u=r.a.useState(t?JSON.parse(t).company:"AITS"),m=Object(k.a)(u,2),p=m[0],d=m[1],h=r.a.useState(t?JSON.parse(t).department:""),f=Object(k.a)(h,2),g=f[0],b=f[1],E=r.a.useState(!1),v=Object(k.a)(E,2),y=v[0],w=v[1],C=r.a.useState(null),A=Object(k.a)(C,2),S=A[0],x=A[1],N=r.a.useState(null),D=Object(k.a)(N,2),B=D[0],P=D[1];return Object(n.useEffect)(function(){function e(){return(e=Object(j.a)(O.a.mark(function e(){var t,a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(me).then(function(e){return e.json()});case 3:return t=e.sent,a=[],n={},e.next=8,t.map(function(e,t){a.includes(e.companyName)||a.push(e.companyName),Object.keys(n).includes(e.companyName)?(console.log(e.companyName),n[e.companyName].push(e.department),console.log(n)):(console.log(e.companyName),n[e.companyName]=[e.department])});case 8:x(a),P(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}))).apply(this,arguments)}S&&B||(console.log(),function(){e.apply(this,arguments)}())},[]),console.log(o),console.log(B),console.log(p),B?r.a.createElement(Da.a,{theme:Va},r.a.createElement(xa.a,{utils:Sa.a},r.a.createElement(Ie.a,{open:y,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:6e3,onClose:function(){return w(!1)}},r.a.createElement(Be.a,{onClose:function(){return w(!1)}},"Your profile have been save succcesfully \u2014 ",r.a.createElement("strong",null,"Congratulation!"))),r.a.createElement(wa.a,{className:s.container},r.a.createElement("br",null),r.a.createElement(ae.a,{container:!0,justify:"center"},r.a.createElement(Aa.a,{color:"primary",style:{fontSize:60}})),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:l(function(e){console.log(e);var t=Object(ye.a)({},e,{company:p,department:g});0===Object.keys(o).length&&(localStorage.setItem("user",JSON.stringify(t)),w(!0),I.push("/checkin"))})},r.a.createElement(ae.a,{container:!0,justify:"center",spacing:2},r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement(ya.a,{as:r.a.createElement(ie.a,{label:"First Name",variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0},required:!0,size:"small"}),type:"text",name:"firstName",control:i})),r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement(ya.a,{as:r.a.createElement(ie.a,{label:"Last Name",variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0},required:!0,size:"small"}),type:"text",name:"lastName",control:i})),r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement(ya.a,{as:r.a.createElement(ie.a,{label:"Mobile Number",variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",error:!!o.tel,helperText:o.tel?o.tel.message:""}),type:"tel",name:"tel",control:i})),r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement(ya.a,{as:r.a.createElement(ie.a,{label:"Email",variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",error:!!o.email,helperText:o.email?o.email.message:""}),type:"text",name:"email",control:i})),r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ya.a,{as:r.a.createElement(Oa.a,{"aria-label":"gender",row:!0,defaultValue:"male"},r.a.createElement(R.a,{value:"female",control:r.a.createElement(ja.a,null),label:"Female"}),r.a.createElement(R.a,{value:"male",control:r.a.createElement(ja.a,null),label:"Male"})),name:"gender",control:i})),r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement(ya.a,{as:r.a.createElement(ie.a,{label:"Employee ID",InputLabelProps:{shrink:!0},required:!0,fullWidth:!0,size:"small",InputProps:{endAdornment:r.a.createElement(ka.a,{position:"start"},r.a.createElement(Pa.a,null))}}),type:"text",name:"empID",control:i})),r.a.createElement(ae.a,{item:!0,xs:6}),r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement(ya.a,{as:r.a.createElement(ce.a,{required:!0,variant:"outlined",className:s.formControl,fullWidth:!0,size:"small"},r.a.createElement(le.a,{id:"demo-simple-select-outlined-label"},"Company"),r.a.createElement(se.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:p,onChange:function(e){d(e.target.value),b(""),c("department","")},label:"Company"},S.map(function(e,t){return r.a.createElement(oe.a,{value:e,key:t},e)}))),style:{marginTop:16},name:"company",control:i})),r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement(ya.a,{as:r.a.createElement(ce.a,{error:!!o.email,required:!0,variant:"outlined",className:s.formControl,fullWidth:!0,size:"small"},r.a.createElement(le.a,{id:"demo-simple-select-outlined-label"},"Department"),r.a.createElement(se.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:g,onChange:function(e){b(e.target.value),c("department",e.target.value)},label:"Department"},B[p].map(function(e,t){return r.a.createElement(oe.a,{value:e,key:t},e)})),o.department?r.a.createElement(Ba.a,{id:"my-helper-text"},o.department.message):null),style:{marginTop:16},name:"department",control:i})),r.a.createElement("hr",null),r.a.createElement(ae.a,{container:!0,justify:"flex-end",spacing:2},r.a.createElement(ae.a,{item:!0},r.a.createElement(V.a,{type:"submit",variant:"contained",color:t?"secondary":"primary",style:{textTransform:"none"},size:"small"},t?"UPDATE":"SAVE DATA")))))))):r.a.createElement(de,null)}),za=a(178),Ra=a.n(za),Wa=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e,t){a.setState({componentName:t}),I.push("/".concat(t))};var n=localStorage.getItem("user");return a.state={componentName:n?"checkin":"personalinfo",showInstallMessage:!1,data:null,filterData:null,companies:null,companyData:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({componentName:e.location.pathname.replace("/","")})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.data,n=t.filterData,l=t.companies,o=t.companyData,i=t.componentName,c={companies:r.a.createElement(aa,{data:o}),employees:r.a.createElement(Bt,{filterData:n,companies:l,data:a}),employeeDetails:r.a.createElement(pa,null),companyDetails:r.a.createElement(va,null),checkin:r.a.createElement(it,null),personalinfo:r.a.createElement(Fa,null),CardView:r.a.createElement(ve,null)}[i];return r.a.createElement(r.a.Fragment,null,c,r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(f.a,{value:this.state.componentName,onChange:this.handleChange,className:e.stickToBottom},r.a.createElement(g.a,{label:"Check-in",value:"checkin",icon:r.a.createElement(E.a,null)}),r.a.createElement(g.a,{label:"Register",value:"personalinfo",icon:r.a.createElement(y.a,null)})),r.a.createElement(Ra.a,{promptOnVisit:1,timesToShow:3,copyClosePrompt:"Close",permanentlyHideOnDismiss:!1}))}}]),t}(n.Component),Qa=Object(h.a)(function(e){return{root:{width:500},appBarSpacer:e.mixins.toolbar,stickToBottom:{width:"100%",position:"fixed",bottom:0,backgroundColor:e.palette.background.paper}}})(Wa),Ua=(a(265),Object(Na.a)({typography:{fontFamily:"Montserrat"}})),qa=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(Da.a,{theme:Ua},r.a.createElement(Ae.a,null,r.a.createElement(p.a,{history:I},r.a.createElement("div",null,r.a.createElement(d.a,{path:"/",component:function(e){return r.a.createElement(Qa,e)}})))))}}]),t}(n.Component),Ka=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ha(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),e.update(),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ma=function(e){for(var t="=".repeat((4-e.length%4)%4),a=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(a),r=new Uint8Array(n.length),l=0;l<n.length;++l)r[l]=n.charCodeAt(l);return r}("BL8D_5QelUwLuYMvTY0_HRYhd-EIQMo4lTrOIJ8iQ1WBp4QxIploR-179dgLyPMTrxCfZNQFwSrLa0175fcACxU"),Ya=JSON.parse(localStorage.getItem("user"));function Ja(e){return console.log("https://ess.aapico.com"),fetch("".concat("https://ess.aapico.com","/subscribers/createorupdate"),{method:"POST",body:JSON.stringify({subscription:e,empID:Ya.empID,company:Ya.company}),headers:{"Content-Type":"application/json"}}).then(function(){var e=Object(j.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error("Bad status code from server.");case 2:return e.next=4,t.json();case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}o.a.render(r.a.createElement(qa,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/aapico-checkin",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/aapico-checkin","/service-worker.js");Ka?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ha(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Ha(t,e)})}}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.pushManager?e.pushManager.getSubscription().then(function(t){null===t?(console.log("No subscription detected, make a request."),e.pushManager.subscribe({applicationServerKey:Ma,userVisibleOnly:!0}).then(function(e){console.log("New subscription added."),Ja(e)}).catch(function(e){"granted"!==Notification.permission?console.log("Permission was not granted."):console.error("An error ocurred during the subscription process.",e)})):(console.log("Existed subscription detected."),Ja(t))}):console.log("Push manager unavailable.")}).catch(function(e){console.error("An error ocurred during Service Worker registration.",e)})}},[[215,1,2]]]);
//# sourceMappingURL=main.a85eab01.chunk.js.map